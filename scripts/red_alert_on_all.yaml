# Turn ON Red Alert (Melody 15) - All Sirens
# Copy to Home Assistant configuration.yaml under script:

red_alert_on_all:
  alias: "ðŸš¨ Red Alert ON - All Sirens"
  description: "Activate red alert (melody 15) on all 6 sirens"
  sequence:
    # Step 1: Configure all sirens for red alert
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/living_room_siren/set"
        payload: '{"melody": 15, "volume": "high"}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/patio_siren/set"
        payload: '{"melody": 15, "volume": "high"}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/office_siren/set"
        payload: '{"melody": 15, "volume": "high"}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/powderroom_siren/set"
        payload: '{"melody": 15, "volume": "high"}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/bedroom_siren/set"
        payload: '{"melody": 15, "volume": "high"}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/bathroom_siren/set"
        payload: '{"melody": 15, "volume": "high"}'
    
    # Step 2: Wait for configuration
    - delay:
        seconds: 3
    
    # Step 3: Turn ON all sirens
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/living_room_siren/set"
        payload: '{"alarm": true}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/patio_siren/set"
        payload: '{"alarm": true}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/office_siren/set"
        payload: '{"alarm": true}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/powderroom_siren/set"
        payload: '{"alarm": true}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/bedroom_siren/set"
        payload: '{"alarm": true}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/bathroom_siren/set"
        payload: '{"alarm": true}'
