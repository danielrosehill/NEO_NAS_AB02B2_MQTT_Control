# Turn ON Security Alarm (Melody 6) - All Sirens
# Copy to Home Assistant configuration.yaml under script:

security_alarm_on_all:
  alias: "ðŸš¨ Security Alarm ON - All Sirens"
  description: "Activate security alarm (melody 6) on all 6 sirens"
  sequence:
    # Step 1: Configure all sirens for security alarm
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/living_room_siren/set"
        payload: '{"melody": 6, "volume": "high"}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/patio_siren/set"
        payload: '{"melody": 6, "volume": "high"}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/office_siren/set"
        payload: '{"melody": 6, "volume": "high"}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/powderroom_siren/set"
        payload: '{"melody": 6, "volume": "high"}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/bedroom_siren/set"
        payload: '{"melody": 6, "volume": "high"}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/bathroom_siren/set"
        payload: '{"melody": 6, "volume": "high"}'
    
    # Step 2: Wait for configuration
    - delay:
        seconds: 3
    
    # Step 3: Turn ON all sirens
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/living_room_siren/set"
        payload: '{"alarm": true}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/patio_siren/set"
        payload: '{"alarm": true}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/office_siren/set"
        payload: '{"alarm": true}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/powderroom_siren/set"
        payload: '{"alarm": true}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/bedroom_siren/set"
        payload: '{"alarm": true}'
    - service: mqtt.publish
      data:
        topic: "zigbee2mqtt/bathroom_siren/set"
        payload: '{"alarm": true}'
